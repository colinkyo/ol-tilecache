{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3c41dec74682ab5a8269","webpack:///./src/util.js","webpack:///./src/tile-url-function.js","webpack:///./src/index.js","webpack:///./src/tile-range.js","webpack:///external {\"root\":\"ol\",\"amd\":\"openlayers\",\"commonjs\":\"openlayers\",\"commonjs2\":\"openlayers\"}"],"names":["zeroPad","num","places","zero","toString","length","Array","parseInt","join","slice","modulo","a","b","m","assert","value","message","Error","isArray","Object","prototype","call","zRegEx","zPadRegEx","xRegEx","yRegEx","dashYRegEx","EPSG3857_EXTENT","createTileUrlFunction","url","tileGrid","createXYZ","extent","createTileUrlFunctionFromTemplates","expandUrl","createTileUrlFunctionFromTemplate","template","tileCoord","replace","zoomReplacer","coordReplacer","part","y","z","range","calculateTileRangeForZ","getTileRangeHeight","templates","createTileUrlFunctionFromTileUrlFunctions","map","tileUrlFunction","zoom","pad","coord","match","urls","exec","startCharCode","charCodeAt","stopCharCode","charCode","push","String","fromCharCode","tileUrlFunctions","pixelRatio","projection","h","index","VERSION","resolution","getResolution","getTileCoordForXYAndResolution","minX","minY","maxX","maxY","x","reverseIntersectionPolicy","getZForResolution","scale","origin","getOrigin","tileSize","getTileSize","adjustX","adjustY","xFromOrigin","Math","floor","yFromOrigin","tileCoordX","tileCoordY","ceil","tileRange"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"openlayers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"openlayers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tileCacheUrlFn\"] = factory(require(\"openlayers\"));\n\telse\n\t\troot[\"ol\"] = root[\"ol\"] || {}, root[\"ol\"][\"tileCacheUrlFn\"] = factory(root[\"ol\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3c41dec74682ab5a8269","/**\n * Left zero pad.\n *\n * @param {string | number} num\n * @param {number} places\n * @returns {string}\n */\nexport function zeroPad (num, places) {\n  const zero = places - num.toString().length + 1\n\n  return (new Array(parseInt(zero > 0 && zero, 10)).join(\"0\") + num)\n    .toString()\n    .slice(-places)\n}\n\n/**\n * The % operator in JavaScript returns the remainder of a / b, but differs from\n * some other languages in that the result will have the same sign as the\n * dividend. For example, -1 % 8 == -1, whereas in some other languages\n * (such as Python) the result would be 7. This function emulates the more\n * correct modulo behavior, which is useful for certain applications such as\n * calculating an offset index in a circular list.\n *\n * @param {number} a The dividend.\n * @param {number} b The divisor.\n * @return {number} a % b where the result is between 0 and b (either 0 <= x < b\n *     or b < x <= 0, depending on the sign of b).\n * @link https://closure-library.googlecode.com/git-history/docs/local_closure_goog_math_math.js.source.html#line73\n */\nexport function modulo (a, b) {\n  const m = a % b\n\n  return (m * b) < 0 ? m + b : m\n}\n\n/**\n * @param {*} value\n * @param {string} [message]\n * @throws {Error} Throws on false value\n */\nexport function assert (value, message = 'Assertion failed') {\n  if (!value) {\n    throw new Error(message)\n  }\n}\n\nexport function isArray (value) {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","import tilegrid from 'ol/tilegrid'\nimport { zeroPad, modulo } from './util'\nimport { calculateTileRangeForZ, getTileRangeHeight } from './tile-range'\n\nconst zRegEx = /\\{z\\}/g\nconst zPadRegEx = /\\{0z\\}/g\nconst xRegEx = /\\{x\\d?\\}/g\nconst yRegEx = /\\{y\\d?\\}/g\nconst dashYRegEx = /\\{-y\\d?\\}/g\n\nconst EPSG3857_EXTENT = [\n  -20037508.342789244,\n  -20037508.342789244,\n  20037508.342789244,\n  20037508.342789244\n]\n\n/**\n * Basic create factory.\n *\n * @param {string} url Url template\n * @param {ol.tilegrid.TileGrid} [tileGrid] Tile grid.\n * @param {ol.Extent | number[]} [extent] Tile grid extent.\n * @returns {ol.TileUrlFunctionType}\n * @static\n * @public\n */\nexport function createTileUrlFunction (url, tileGrid = tilegrid.createXYZ(), extent = EPSG3857_EXTENT) {\n  return createTileUrlFunctionFromTemplates(expandUrl(url), tileGrid, extent)\n}\n\n/**\n * Creates tile URL function from single template.\n *\n * @param {string} template Source url\n * @param {ol.tilegrid.TileGrid} [tileGrid] Tile grid.\n * @param {ol.Extent | number[]} [extent] Tile grid extent.\n * @returns {ol.TileUrlFunctionType}\n * @private\n */\nexport function createTileUrlFunctionFromTemplate (template, tileGrid = tilegrid.createXYZ(), extent = EPSG3857_EXTENT) {\n  return (\n    /**\n     * @param {ol.TileCoord} tileCoord Tile Coordinate.\n     * @return {string | undefined} Tile URL.\n     */\n      function (tileCoord) {\n      if (tileCoord != null) {\n        return template.replace(zRegEx, zoomReplacer(tileCoord[ 0 ]))\n          .replace(zPadRegEx, zoomReplacer(tileCoord[ 0 ], true))\n          .replace(xRegEx, coordReplacer(tileCoord[ 1 ]))\n          .replace(yRegEx, function (part) {\n            const y = -tileCoord[ 2 ] - 1\n\n            return coordReplacer(y)(part)\n          })\n          .replace(dashYRegEx, function (part) {\n            const z = tileCoord[ 0 ]\n            // The {-y} placeholder requires a tile grid with extent\n            const range = calculateTileRangeForZ(tileGrid, extent, z)\n            const y = getTileRangeHeight(range) + tileCoord[ 2 ]\n\n            return coordReplacer(y)(part)\n          })\n      }\n    })\n}\n\n/**\n * Creates tile URL function from multiple templates.\n *\n * @param {string[]} templates Url templates\n * @param {ol.tilegrid.TileGrid} [tileGrid] Tile grid.\n * @param {ol.Extent | number[]} [extent] Tile grid extent.\n * @returns {ol.TileUrlFunctionType}\n * @private\n */\nexport function createTileUrlFunctionFromTemplates (templates, tileGrid = tilegrid.createXYZ(), extent = EPSG3857_EXTENT) {\n  return createTileUrlFunctionFromTileUrlFunctions(\n    templates.map(tileUrlFunction => createTileUrlFunctionFromTemplate(tileUrlFunction, tileGrid, extent))\n  )\n}\n\n/**\n * @param zoom\n * @param pad\n * @returns {function}\n * @private\n */\nfunction zoomReplacer (zoom, pad) {\n  return function () {\n    return pad ? zeroPad(zoom, 2) : zoom.toString()\n  }\n}\n\n/**\n * @param coord\n * @returns {function}\n * @private\n */\nfunction coordReplacer (coord) {\n  return function (part) {\n    const match = part.match(/\\d/)\n\n    if (match) {\n      return zeroPad(coord, 9).slice((match[ 0 ] - 1) * 3, match[ 0 ] * 3)\n    }\n\n    return coord.toString()\n  }\n}\n\n/**\n * @param {string} url\n * @returns {Array.<string>}\n * @private\n */\nfunction expandUrl (url) {\n  const urls = []\n  const match = /\\{(\\d)-(\\d)\\}/.exec(url) ||\n                /\\{([a-z])-([a-z])\\}/.exec(url)\n\n  if (match) {\n    const startCharCode = match[ 1 ].charCodeAt(0)\n    const stopCharCode = match[ 2 ].charCodeAt(0)\n\n    for (let charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\n      urls.push(url.replace(match[ 0 ], String.fromCharCode(charCode)))\n    }\n  } else {\n    urls.push(url)\n  }\n\n  return urls\n}\n\n/**\n * @param {Array.<ol.TileUrlFunctionType>} tileUrlFunctions\n * @returns {ol.TileUrlFunctionType}\n * @private\n */\nfunction createTileUrlFunctionFromTileUrlFunctions (tileUrlFunctions) {\n  if (tileUrlFunctions.length === 1) {\n    return tileUrlFunctions[ 0 ]\n  }\n\n  return (\n    /**\n     * @param {ol.TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {ol.proj.Projection} projection Projection.\n     * @return {string | undefined} Tile URL.\n     */\n      function (tileCoord, pixelRatio, projection) {\n      if (tileCoord != null) {\n        const h = (tileCoord[ 1 ] << tileCoord[ 0 ]) + tileCoord[ 2 ]\n        const index = modulo(h, tileUrlFunctions.length)\n\n        return tileUrlFunctions[ index ](tileCoord, pixelRatio, projection)\n      }\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tile-url-function.js","/* global PKG_VERSION */\n/**\n * OpenLayers tile url function to load tile seeded with TileCache url scheme.\n *\n * @package ol-tilecache\n * @author Vladimir Vershinin <ghettovoice@gmail.com>\n * @licence MIT https://opensource.org/licenses/MIT\n * @copyright (c) 2016-2017, Vladimir Vershinin\n */\nimport {\n  createTileUrlFunction,\n  createTileUrlFunctionFromTemplate,\n  createTileUrlFunctionFromTemplates\n} from './tile-url-function'\n\nexport {\n  createTileUrlFunction,\n  createTileUrlFunctionFromTemplate,\n  createTileUrlFunctionFromTemplates\n}\n\nexport default {\n  VERSION: PKG_VERSION,\n  createTileUrlFunction,\n  createTileUrlFunctionFromTemplate,\n  createTileUrlFunctionFromTemplates\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { isArray } from './util'\n/**\n * @param {ol.tilegrid.TileGrid} tileGrid\n * @param {ol.Extent} extent\n * @param {number} z\n * @return {{minX, minY, maxX, maxY}}\n */\nexport function calculateTileRangeForZ (tileGrid, extent, z) {\n  const resolution = tileGrid.getResolution(z)\n  const [ minX, minY ] = getTileCoordForXYAndResolution(tileGrid, extent[ 0 ], extent[ 1 ], resolution, false)\n  const [ maxX, maxY ] = getTileCoordForXYAndResolution(tileGrid, extent[ 2 ], extent[ 3 ], resolution, true)\n\n  return { minX, minY, maxX, maxY }\n}\n\n/**\n * @param {ol.tilegrid.TileGrid} tileGrid\n * @param {number} x\n * @param {number} y\n * @param {number} resolution\n * @param {boolean} reverseIntersectionPolicy\n * @return {number[]}\n */\nexport function getTileCoordForXYAndResolution (tileGrid, x, y, resolution, reverseIntersectionPolicy) {\n  const z = tileGrid.getZForResolution(resolution)\n  const scale = resolution / tileGrid.getResolution(z)\n  const origin = tileGrid.getOrigin(z)\n  let tileSize = tileGrid.getTileSize(z)\n\n  if (!isArray(tileSize)) {\n    tileSize = [ tileSize, tileSize ]\n  }\n\n  const adjustX = reverseIntersectionPolicy ? 0.5 : 0\n  const adjustY = reverseIntersectionPolicy ? 0 : 0.5\n  const xFromOrigin = Math.floor((x - origin[ 0 ]) / resolution + adjustX)\n  const yFromOrigin = Math.floor((y - origin[ 1 ]) / resolution + adjustY)\n  let tileCoordX = scale * xFromOrigin / tileSize[ 0 ]\n  let tileCoordY = scale * yFromOrigin / tileSize[ 1 ]\n\n  if (reverseIntersectionPolicy) {\n    tileCoordX = Math.ceil(tileCoordX) - 1\n    tileCoordY = Math.ceil(tileCoordY) - 1\n  } else {\n    tileCoordX = Math.floor(tileCoordX)\n    tileCoordY = Math.floor(tileCoordY)\n  }\n\n  return [ tileCoordX, tileCoordY ]\n}\n\n/**\n * @param {{minX, minY, maxX, maxY}} tileRange\n * @return {number}\n */\nexport function getTileRangeHeight (tileRange) {\n  return tileRange.maxY - tileRange.minY + 1\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tile-range.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ol\",\"amd\":\"openlayers\",\"commonjs\":\"openlayers\",\"commonjs2\":\"openlayers\"}\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}