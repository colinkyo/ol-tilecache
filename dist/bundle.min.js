/*!
OpenLayers tile url function to load tile seeded with TileCache url scheme
@package ol-tilecache
@author Vladimir Vershinin <ghettovoice@gmail.com>
@version 2.0.0-beta
@licence MIT https://opensource.org/licenses/MIT
@copyright (c) 2016-2017, Vladimir Vershinin <ghettovoice@gmail.com>
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ol/tilegrid")):"function"==typeof define&&define.amd?define(["ol/tilegrid"],t):"object"==typeof exports?exports.tileCacheFn=t(require("ol/tilegrid")):(e.ol=e.ol||{},e.ol.tileCacheFn=t(e.ol.tilegrid))}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=5)}([function(e,t,r){"use strict";function n(e,t){var r=t-e.toString().length+1;return(new Array(parseInt(r>0&&r,10)).join("0")+e).toString().slice(-t)}function o(e,t){var r=e%t;return r*t<0?r+t:r}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!e)throw new Error(t)}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.zeroPad=n,t.modulo=o,t.assert=i,t.isArray=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},function(e,t,r){"use strict";function n(e,t,r){var n=e.getResolution(r),i=o(e,t[0],t[1],n,!1),l=u(i,2),a=l[0],c=l[1],f=o(e,t[2],t[3],n,!0),d=u(f,2);return{minX:a,minY:c,maxX:d[0],maxY:d[1]}}function o(e,t,r,n,o){var i=e.getZForResolution(n),u=n/e.getResolution(i),a=e.getOrigin(i),c=e.getTileSize(i);(0,l.isArray)(c)||(c=[c,c]);var f=o?.5:0,d=o?0:.5,s=Math.floor((t-a[0])/n+f),g=Math.floor((r-a[1])/n+d),p=u*s/c[0],v=u*g/c[1];return o?(p=Math.ceil(p)-1,v=Math.ceil(v)-1):(p=Math.floor(p),v=Math.floor(v)),[p,v]}function i(e){return e.maxY-e.minY+1}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.calculateTileRangeForZ=n,t.getTileCoordForXYAndResolution=o,t.getTileRangeHeight=i;var l=r(0)},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.default.createXYZ(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return i(a(e),t,r)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.default.createXYZ(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return function(n){if(null!=n)return e.replace(p,u(n[0])).replace(v,u(n[0],!0)).replace(h,l(n[1])).replace(y,function(e){return l(-n[2]-1)(e)}).replace(m,function(e){var o=n[0],i=(0,g.calculateTileRangeForZ)(t,r,o);return l((0,g.getTileRangeHeight)(i)+n[2])(e)})}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.default.createXYZ(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return c(e.map(function(e){return o(e,t,r)}))}function u(e,t){return function(){return t?(0,s.zeroPad)(e,2):e.toString()}}function l(e){return function(t){var r=t.match(/\d/);return r?(0,s.zeroPad)(e,9).slice(3*(r[0]-1),3*r[0]):e.toString()}}function a(e){var t=[],r=/\{(\d)-(\d)\}/.exec(e)||/\{([a-z])-([a-z])\}/.exec(e);if(r)for(var n=r[1].charCodeAt(0),o=r[2].charCodeAt(0),i=n;i<=o;++i)t.push(e.replace(r[0],String.fromCharCode(i)));else t.push(e);return t}function c(e){return 1===e.length?e[0]:function(t,r,n){if(null!=t){var o=(t[1]<<t[0])+t[2];return e[(0,s.modulo)(o,e.length)](t,r,n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTileUrlFunction=n,t.createTileUrlFunctionFromTemplate=o,t.createTileUrlFunctionFromTemplates=i;var f=r(4),d=function(e){return e&&e.__esModule?e:{default:e}}(f),s=r(0),g=r(2),p=/\{z\}/g,v=/\{0z\}/g,h=/\{x\d?\}/g,y=/\{y\d?\}/g,m=/\{-y\d?\}/g,b=[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244]},function(t,r){t.exports=e},function(e,t,r){e.exports=r(1)}])});